const transitions={functionopen:[{F:1,action:"newword"}],type:[{F:.6,action:"type"},{F:.7,action:"delete"},{F:.8,action:"newword"},{F:.9,action:"newline"},{F:1,action:"pause"}],newword:[{F:1,action:"type"}],"delete":[{F:.3,action:"delete"},{F:1,action:"newword"}],newline:[{F:1,action:"pause"}],pause:[{F:.5,action:"pause"},{F:.8,action:"newword"},{F:.9,action:"moveup"},{F:1,action:"movedown"}],movedown:[{F:.7,action:"movedown"},{F:.8,action:"pause"},{F:1,action:"newword"}],moveup:[{F:.7,action:"moveup"},{F:.8,action:"pause"},{F:1,action:"newword"}]},codeColors=["gray","gray","gray","gray","gray","green","orange","violet"];var timer=null,posRow=0,posCol=0,container=document.getElementById("code-hero"),firstRow,cursor,state={pos:{row:0,col:0}},start=function(){container.innerHTML=null,posRow=0,posCol=0,cursorBlink=!1,firstRow=document.createElement("div"),cursor=document.createElement("span"),firstRow.className="code-row",container.appendChild(firstRow),cursor.className="code-cursor",cursor.id="code-cursor",firstRow.appendChild(cursor),timer&&clearTimeout(timer),codeFrame("functionopen")},stop=function(){timer&&clearTimeout(timer)},carriageReturn=function(a){var b=container.childNodes,c=b[posRow],d=document.createElement("div");d.classList.add("code-row"),a||0===a?d.classList.add("code-row--indent-"+a):c.classList.contains("code-row--indent-1")?d.classList.add("code-row--indent-1"):c.classList.contains("code-row--indent-2")&&d.classList.add("code-row--indent-2"),posRow===b.length-1?container.appendChild(d):container.insertBefore(b[posRow+1],c),posCol=1,moveTo(posRow+1)},addWord=function(a,b){var c,d=container.childNodes,e=d[posRow];c=document.createElement("span"),c.className="code-word",c.style.width=(a||20)+"px",b&&(c.style.borderColor=b),e.insertBefore(c,cursor),posCol++},moveTo=function(a){var b,c,d=container.childNodes;a=Math.max(Math.min(a,d.length-1),1),b=d[posRow],c=d[a],posRow=a,b.classList.remove("code-row--hilite"),c.classList.add("code-row--hilite"),posCol=Math.min(posCol,c.childNodes.length),posCol>=c.childNodes.length?c.appendChild(cursor):c.insertBefore(cursor,c.childNodes[posCol])},codeFrame=function(a){var b,c=document.getElementById("code-cursor"),d=container.childNodes,e=d[posRow],f=e.childNodes,g=f[posCol-1],h=(Math.min(posCol,f.length),Math.random());switch(transitions[a].some(function(a){return a.F>h?(b=a.action,!0):!1}),f.length>6&&("type"===a||"newword"===a)&&(a="newline"),a){case"functionopen":addWord(50,"green"),addWord(100),carriageReturn(1),addWord(30),carriageReturn(1),carriageReturn(1),moveTo(posRow-2);break;case"type":if(g&&g!==c){var i=parseInt(g.style.width.slice(0,-2))||0;g.style.width=i+20+"px","type"!==b&&(g.style.borderColor=codeColors[Math.floor(Math.random()*codeColors.length)]);break}case"newword":addWord(20);break;case"delete":g&&g!==c&&e.removeChild(g),posCol--;break;case"newline":carriageReturn();break;case"movedown":moveTo(posRow-1);break;case"moveup":moveTo(posRow+1)}d.length>15?(start(),timer=setTimeout(codeFrame.bind(null,"functionopen"),100)):timer=setTimeout(codeFrame.bind(null,b),"pause"===b?500:70)};start()(function(a){"use strict";var b=function(b){function c(){var a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"};return a[Modernizr.prefixed("transition")]}function d(){l<k.length-1&&(m=!0,k.eq(l).one(c(),function(){m=!1}),k.eq(l).addClass("out"),l++)}function e(){l>0&&(l--,m=!0,k.eq(l).one(c(),function(){m=!1}),k.eq(l).removeClass("out"))}function f(a){var a=a.originalEvent?a.originalEvent:a,b=a.wheelDelta?a.wheelDelta/40:a.detail?-a.detail/3:0;return m?void 0:0>b?(d(),a.preventDefault()&&!1):b>0?(e(),a.preventDefault()&&!1):void 0}function g(a){40===a.keyCode?d():38===a.keyCode&&e()}var h={},i=a(b),j=(a("body"),a(window)),k=i.find(".scroll-hijack__slides__slide"),l=0,m=!1;return h.init=function(){j.on("DOMMouseScroll mousewheel",f);j.on("keyup",g),Hammer(i[0]).on("swipeup",function(){setTimeout(d,0)}),Hammer(i[0]).on("swipedown",function(){setTimeout(e,0)})},h};new b(a(".js-component-scroll-hijack")).init()}(jQuery));